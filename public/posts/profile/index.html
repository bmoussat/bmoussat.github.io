<!DOCTYPE html>


<html lang="en-us" data-theme="">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=45787&amp;path=livereload" data-no-instant defer></script>
    
        
<meta charset="utf-8">
<meta name="HandheldFriendly" content="True">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer-when-downgrade">

<title>Comment Utiliser plusieurs profils d’application avec Spring Boot - BachirLOG</title>

<meta name="description" content="This is bold text, and this is emphasized text.">





<link rel="icon" type="image/x-icon" href="http://localhost:45787/favicon.ico">
<link rel="apple-touch-icon-precomposed" href="http://localhost:45787/favicon.png">






    



    



<style>
  body {
    visibility: hidden;
    opacity: 0;
  }
</style>

<noscript>
  <style>
    body {
      visibility: visible;
      opacity: 1;
    }
  </style>
</noscript>




    





    
    
    

    
        <link rel="stylesheet" href="/css/style.4c42aa0abeac804c4933c54677c449cea1f723caae778425d031e98565a0cdef.css" integrity="sha256-TEKqCr6sgExJM8VGd8RJzqH3I8qud4Ql0DHphWWgze8=">
    





    





    
    
    

    
        <link rel="stylesheet" href="/css/style.9c1888ebff42c0224ce04dac10cb2c401f1b77f54f78e8d87d73c3bed781c263.css" integrity="sha256-nBiI6/9CwCJM4E2sEMssQB8bd/VPeOjYfXPDvteBwmM=">
    





    





    
    
    

    
        <link rel="stylesheet" href="/css/style.acd606c0fce58853afe0248d37bb41acbbcdd8b1aca2412b6c0fa760da0137f3.css" integrity="sha256-rNYGwPzliFOv4CSNN7tBrLvN2LGsokErbA&#43;nYNoBN/M=">
    







    
    
      
    

    
      
        <link rel="stylesheet" href="/css/style.min.f18cd3add29ae9f3e51aff55fd97ff5c953a777ee889183af671a36618b527ee.css" integrity="sha256-8YzTrdKa6fPlGv9V/Zf/XJU6d37oiRg69nGjZhi1J&#43;4=" crossorigin="anonymous">
      
    

    
    
      
    

    
      
        <link rel="stylesheet" href="/css/style.min.aa533fade43ed9c58d84bd79f05db0139dbf556e01cb3f0f96f858442166b734.css" integrity="sha256-qlM/reQ&#43;2cWNhL158F2wE52/VW4Byz8PlvhYRCFmtzQ=" crossorigin="anonymous">
      
    






    

    





    
    
    

    
        <script src="/js/script.672e2309c296e07c18bcd08b28d797a56222ff941d65f308fba3158c44885b14.js" type="text/javascript" charset="utf-8" integrity="sha256-Zy4jCcKW4HwYvNCLKNeXpWIi/5QdZfMI&#43;6MVjESIWxQ="></script>
    



















    
</head>
<body>
    <a class="skip-main" href="#main">Skip to main content</a>
    <div class="container">
        <header class="common-header">
            
                <div class="header-top">
    <div class="header-top-left">
        <h1 class="site-title noselect">
    <a href="/">BachirLOG</a>
</h1>

        



    



    



    
        <div class="theme-switcher">
            <span class="inline-svg">

    


    
    
    
    
    

    <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-sun-high"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14.828 14.828a4 4 0 1 0 -5.656 -5.656a4 4 0 0 0 5.656 5.656z" /><path d="M6.343 17.657l-1.414 1.414" /><path d="M6.343 6.343l-1.414 -1.414" /><path d="M17.657 6.343l1.414 -1.414" /><path d="M17.657 17.657l1.414 1.414" /><path d="M4 12h-2" /><path d="M12 4v-2" /><path d="M20 12h2" /><path d="M12 20v2" /></svg>


</span>

        </div>
    

    <script>
        const STORAGE_KEY = 'user-color-scheme'
        const defaultTheme = "auto"

        let currentTheme
        let switchButton
        let autoDefinedScheme = window.matchMedia('(prefers-color-scheme: dark)')

        function switchTheme(e) {
            currentTheme = (currentTheme === 'dark') ? 'light' : 'dark';
            if (localStorage) localStorage.setItem(STORAGE_KEY, currentTheme);
            document.documentElement.setAttribute('data-theme', currentTheme);
            changeGiscusTheme(currentTheme);
            document.body.dispatchEvent(new CustomEvent(currentTheme + "-theme-set"));
        }

        const autoChangeScheme = e => {
            currentTheme = e.matches ? 'dark' : 'light'
            document.documentElement.setAttribute('data-theme', currentTheme);
            changeGiscusTheme(currentTheme);
            document.body.dispatchEvent(new CustomEvent(currentTheme + "-theme-set"));
        }

        document.addEventListener('DOMContentLoaded', function () {
            switchButton = document.querySelector('.theme-switcher')
            currentTheme = detectCurrentScheme()

            if (currentTheme === 'auto') {
                autoChangeScheme(autoDefinedScheme);
                autoDefinedScheme.addListener(autoChangeScheme);
            } else {
                document.documentElement.setAttribute('data-theme', currentTheme)
            }

            if (switchButton) {
                switchButton.addEventListener('click', switchTheme, false)
            }

            showContent();
        })

        function detectCurrentScheme() {
            if (localStorage !== null && localStorage.getItem(STORAGE_KEY)) {
                return localStorage.getItem(STORAGE_KEY)
            }
            if (defaultTheme) {
                return defaultTheme
            }
            return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
        }

        function showContent() {
            document.body.style.visibility = 'visible';
            document.body.style.opacity = 1;
        }

        function changeGiscusTheme (theme) {
            function sendMessage(message) {
              const iframe = document.querySelector('iframe.giscus-frame');
              if (!iframe) return;
              iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
            }

            sendMessage({
              setConfig: {
                theme: theme
              }
            });
        }
    </script>


        <ul class="social-icons noselect">


    
        <li>
            <a href="https://github.com/bmoussat/" title="Github" rel="me">
            <span class="inline-svg">

    


    
    
    
    
    

    <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-brand-github"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" /></svg>


</span>

            </a>
        </li>
    

    
        <li>
            <a href=" https://www.linkedin.com/in/bachir-moussa-tari-bako-99668354/" title="Linkedin" rel="me">
            <span class="inline-svg">

    


    
    
    
    
    

    <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-brand-linkedin"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z" /><path d="M8 11l0 5" /><path d="M8 8l0 .01" /><path d="M12 16l0 -5" /><path d="M16 16v-3a2 2 0 0 0 -4 0" /></svg>


</span>

            </a>
        </li>
    

    
        <li>
            <a href="bachirtarimoussa|ATATgmail.com" title="Email" rel="me">
            <span class="inline-svg">

    


    
    
    
    
    

    <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-mail"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z" /><path d="M3 7l9 6l9 -6" /></svg>


</span>

            </a>
        </li>
    






    <li>
            <a href="/index.xml" title="RSS" rel="me">
            <span class="inline-svg">

    


    
    
    
    
    

    <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-rss"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M4 4a16 16 0 0 1 16 16" /><path d="M4 11a9 9 0 0 1 9 9" /></svg>


</span>

            </a>
        </li>
    

</ul>

    </div>
    <div class="header-top-right">

    </div>
</div>


    <nav class="noselect">
        
        
        <a class="" href="http://localhost:45787/" title="">Home</a>
        
        <a class="" href="http://localhost:45787/posts/" title="">Posts</a>
        
        <a class="" href="http://localhost:45787/tags/" title="">Tags</a>
        
        <a class="" href="http://localhost:45787/about/" title="">About</a>
        
    </nav>








            
        </header>
        <main id="main" tabindex="-1">
            
    

    <article class="post h-entry">
        <div class="post-header">
            <header>
                <h1 class="p-name post-title">Comment Utiliser plusieurs profils d’application avec Spring Boot</h1>
                

            </header>
            

    



<div class="post-info noselect">
    
        <div class="post-date dt-published">
            <time datetime="2020-01-23">2020-01-23</time>
            
        </div>
    

    <a class="post-hidden-url u-url" href="/posts/profile/">/posts/profile/</a>
    <a href="http://localhost:45787/" class="p-name p-author post-hidden-author h-card" rel="me">map[name:BachirLOG]</a>


    <div class="post-taxonomies">
        
        
            <ul class="post-tags">
                
                    
                    <li><a href="/tags/java/">#Java</a></li>
                
                    
                    <li><a href="/tags/spring-boot/">#Spring-Boot</a></li>
                
                    
                    <li><a href="/tags/properties/">#Properties</a></li>
                
                    
                    <li><a href="/tags/profils/">#Profils</a></li>
                
                    
                    <li><a href="/tags/configuration/">#Configuration</a></li>
                
                    
                    <li><a href="/tags/mysql/">#Mysql</a></li>
                
            </ul>
        
        
    </div>
</div>

        </div>
        

  
  




  
  
  
  <details class="toc noselect">
    <summary>Table of Contents</summary>
    <div class="inner"><nav id="TableOfContents">
  <ul>
    <li><a href="#pourquoi-utiliser-des-profils-"><strong>Pourquoi utiliser des profils ?</strong></a></li>
    <li><a href="#création-et-utilisation-des-profils"><strong>Création et utilisation des profils</strong></a></li>
  </ul>

  <ul>
    <li><a href="#rajoutons-nos-nouveaux-profils-dans-notre-projet"><strong>Rajoutons nos nouveaux profils dans notre projet.</strong></a></li>
    <li><a href="#maintenant-mettons-du-contenu-dans-nos-fichiers-properties"><strong>Maintenant mettons du contenu dans nos fichiers <em>properties</em>:</strong></a>
      <ul>
        <li><a href="#un-peu-dexplication"><strong>Un peu d’explication</strong></a></li>
      </ul>
    </li>
    <li><a href="#conclusion"><strong>Conclusion</strong></a></li>
  </ul>
</nav></div>
  </details>
  



<script>
  var toc = document.querySelector(".toc");
  if (toc) {
    toc.addEventListener("click", function () {
      if (event.target.tagName !== "A") {
        event.preventDefault();
        if (this.open) {
          this.open = false;
          this.classList.remove("expanded");
        } else {
          this.open = true;
          this.classList.add("expanded");
        }
      }
    });
  }
</script>

        <div class="content e-content">
            <p>Dans ce post, nous allons voir comment utiliser plusieurs profils d’applications dans une même application spring boot.</p>
<h2 id="pourquoi-utiliser-des-profils-" >
<div>
    <a href="#pourquoi-utiliser-des-profils-">
        #
    </a>
    <strong>Pourquoi utiliser des profils ?</strong>
</div>
</h2>
<p>Selon <em><strong>larousse.fr</strong></em>, « un profil est un ensemble de caractéristiques qui définissent fondamentalement un type de chose ; configuration de quelque chose à un moment donné ».</p>
<p>Lorsque l’on crée une application, il faut la développer, la tester, faire la recette de cette application, la mettre en pré-production puis en production.</p>
<p>Pour ces différentes étapes, il faudra plusieurs environnements, donc par conséquent plusieurs configurations, une pour chaque environnement, car les urls des serveurs, les comptes d’accès aux bases de données peuvent être différentes selon que l’on soit en développement ou en production.</p>
<p>Dans ce cadre, les profils nous permettent de faciliter et simplifier le changement de configuration selon l’environnement ou on veut déployer l’application.</p>
<h2 id="création-et-utilisation-des-profils" >
<div>
    <a href="#cr%c3%a9ation-et-utilisation-des-profils">
        #
    </a>
    <strong>Création et utilisation des profils</strong>
</div>
</h2>
<p>L’une des manières la plus simple de l’utilisation des profils, est de créer plusieurs fichiers <em><strong>properties</strong></em> avec les valeurs nécessaires au bon fonctionnement de l’application dans l ‘environnement cible.</p>
<p>Le nom de ces fichiers <em><strong>properties</strong></em>, doit être préfixé du mot « <em><strong>application</strong></em> » suivi du nom de l’environnement cible, séparé par un tiret et avec l’extension « <em><strong>.properties</strong></em>»</p>
<h1 id="rien-de-mieux-que-la-pratique" >
<div>
    <a href="#rien-de-mieux-que-la-pratique">
        ##
    </a>
    <strong>Rien de mieux que la pratique</strong>
</div>
</h1>
<p>Pour l’environnement de développement, nous allons créer le fichier <em><strong>application-dev.properties</strong></em> et pour la production, un fichier au nom de : <em><strong>application-prod.properties.</strong></em></p>
<h2 id="rajoutons-nos-nouveaux-profils-dans-notre-projet" >
<div>
    <a href="#rajoutons-nos-nouveaux-profils-dans-notre-projet">
        #
    </a>
    <strong>Rajoutons nos nouveaux profils dans notre projet.</strong>
</div>
</h2>
<p>Vous pouvez télécharger les sources de cet article <a href="https://github.com/bmoussat/multi_profile_app%3E">ici</a>. Ou bien, vous pouvez rajouter les profils à votre application si vous en avez déjà une.</p>
<p>Voici la structure de notre projet après ajout des nouveaux fichiers « <em><strong>properties</strong></em> » :</p>
<p><img src="/images/projectStructure_.png" alt="Emplacement des fichiers properties"></p>
<h2 id="maintenant-mettons-du-contenu-dans-nos-fichiers-properties" >
<div>
    <a href="#maintenant-mettons-du-contenu-dans-nos-fichiers-properties">
        #
    </a>
    <strong>Maintenant mettons du contenu dans nos fichiers <em>properties</em>:</strong>
</div>
</h2>
<p><em>- application-dev.properties :</em></p>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#57c7ff">1.</span> <span style="color:#5af78e">spring.datasource.url=jdbc:mysql://localhost:3306/dev?serverTimezone=UTC</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57c7ff">2.</span> <span style="color:#5af78e">spring.datasource.username= dev_db_user_login</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57c7ff">3.</span> <span style="color:#5af78e">spring.datasource.password=dev_db_user_mdp</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57c7ff">4.</span> <span style="color:#5af78e">logging.level.org.springframework.web= DEBUG</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57c7ff">5.</span> <span style="color:#5af78e">logging.level.com.concretepage= DEBUG</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57c7ff">6.</span> <span style="color:#5af78e">spring.jpa.hibernate.ddl-auto=none</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57c7ff">7.</span> <span style="color:#5af78e">spring.jpa.show-sql=true</span>
</span></span></code></pre></div><p><em>- application-prod.properties :</em></p>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#57c7ff">1.</span> <span style="color:#5af78e">spring.datasource.url=jdbc:mysql://localhost:3306/prod?serverTimezone=UTC</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57c7ff">2.</span> <span style="color:#5af78e">spring.datasource.username=prod_db_user_login</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57c7ff">3.</span> <span style="color:#5af78e">spring.datasource.password=prod_db_user_mdp</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57c7ff">4.</span> <span style="color:#5af78e">logging.level.org.springframework.web=info</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57c7ff">5.</span> <span style="color:#5af78e">logging.level.com.concretepage=info</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57c7ff">6.</span> <span style="color:#5af78e">spring.jpa.hibernate.ddl-auto=none</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57c7ff">7.</span> <span style="color:#5af78e">spring.jpa.show-sql=false</span>
</span></span></code></pre></div><h3 id="un-peu-dexplication" >
<div>
    <a href="#un-peu-dexplication">
        ##
    </a>
    <strong>Un peu d’explication</strong>
</div>
</h3>
<p>1 : correspondent aux liens d’accès à la base de données, dont <code>jdbc:mysql://localhost:3306/</code> qui correspond à l’accès à la base et <code>dev/prod</code> qui correspondent aux tables de la base de données.</p>
<p>2 : correspondent respectivement aux utilisateurs (login) d’accès à la base de données de développement et de production.</p>
<p>3 : correspondent respectivement aux mots de passe des utilisateurs d’accès à la base de données de développement et de production.</p>
<p>Par conséquent, il faut remplacer <code>dev_db_user_login, prod_db_user_login</code> par respectivement les noms d’utilisateur de la base de développement et de production puis <code>dev_db_user_mdp, prod_db_user_mdp</code> par respectivement les mots de passe de développement et production.</p>
<p>4 et 5 : concernent le niveau de logs souhaité.</p>
<p>Les lignes 6 et 7 : concernent la base de données, plus précisément (juste pour infos car ce n’est pas notre sujet) la ligne 6 permet ou non (selon le mode choisi) de générer la structure des tables à partir des modèles ayant des annotations appropriées contenues dans le projet.</p>
<p>Le fichier <em><strong>application.properties</strong></em> contiendra la propriété qui nous permettra de préciser quelle configuration choisir, soit :</p>
<p><code>spring.profiles.active=dev</code></p>
<p>Nous attribuons la valeur « <em>dev</em> » lorsque nous voulons choisir la configuration pour l’environnement de développement, et la valeur « <em>prod</em> » lorsque l’on veut choisir la configuration pour l’environnement de production.</p>
<p>Grâce à la propriété « <em><strong>spring.profiles.active</strong></em> », Spring Boot sait quelle configuration charger.</p>
<h2 id="conclusion" >
<div>
    <a href="#conclusion">
        #
    </a>
    <strong>Conclusion</strong>
</div>
</h2>
<p>Dans cet article, nous avons vu, comment créer de nouveaux profils dans un même projet Spring Boot afin d’avoir plusieurs configurations pour la même application, ce qui facilite la génération de paquets applicatifs pour plusieurs environnements différents.</p>
        </div>

    </article>

    
    
        
    

    
        
        
            <h3 class="read-next-title noselect">Read next</h3>
            <ul class="read-next-posts noselect">
                
                <li><a href="/posts/localstack/">Utilisation de localStack S3 avec une application Spring Boot</a></li>
                
            </ul>
        
    

    

    
        









    

    

    

    

        </main>
        
            <footer class="common-footer noselect">
    
    

    <div class="common-footer-bottom">
        

        <div style="display: flex; align-items: center; gap:8px">
            ©  BachirLOG,  2025
            
        </div>
        <div style="display:flex;align-items: center">
            
            
            
            
            
            
        </div>
        <div>
            

        </div>
    </div>

    <p class="h-card vcard">

    <a href=http://localhost:45787/ class="p-name u-url url fn" rel="me">map[name:BachirLOG]</a>

    

    
</p>

</footer>

        
    </div>
</body>
</html>
